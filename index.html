<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>IGA Executive Brief Designer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Optional fonts (non-blocking) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Source+Serif+4:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />

</head>
<body class="theme-iga">
<div id="app">
  <header id="app-header">
    <div id="app-title">
      <span>IGA Executive Brief Designer</span>
      <span class="sub">Single-file themed WYSIWYG</span>
    </div>

    <div class="toolbar-group">
      <span class="toolbar-label">Pages</span>
      <button class="toolbar-btn primary" data-add-page aria-label="Add page"><span class="toolbar-btn-icon">ï¼‹</span>Page</button>
      <button class="toolbar-btn" data-add-footnote aria-label="Add footnote">+ Footnote</button>
    </div>

    <div class="toolbar-group">
      <span class="toolbar-label">Insert block</span>
      <button class="toolbar-btn" data-add="section" aria-label="Insert section">Section</button>
      <button class="toolbar-btn" data-add="text" aria-label="Insert text block">Text</button>
      <button class="toolbar-btn" data-add="cta" aria-label="Insert info box">Info box</button>
      <button class="toolbar-btn" data-add="steps" aria-label="Insert steps block">Steps</button>
      <button class="toolbar-btn" data-add="faq" aria-label="Insert FAQ block">FAQ</button>
      <button class="toolbar-btn" data-add="quote" aria-label="Insert quote block">Quote</button>
      <button class="toolbar-btn" data-add="divider" aria-label="Insert divider">Divider</button>
      <button class="toolbar-btn" data-add="citation" aria-label="Insert citation">Citation</button>
      <button class="toolbar-btn" data-add="table-glance" aria-label="Insert at-a-glance table">At-a-glance</button>
      <button class="toolbar-btn" data-add="table-bai" aria-label="Insert before after impact table">Before/After/Impact</button>
      <button class="toolbar-btn" data-add="table-custom" aria-label="Insert custom table">Custom table</button>
      <button class="toolbar-btn" data-add="image" aria-label="Insert image">Image</button>
      <button class="toolbar-btn" data-add="embed" aria-label="Insert embedded content">Embed</button>
    </div>

    <div class="toolbar-group">
      <span class="toolbar-label">Layouts</span>
      <button class="toolbar-btn" data-template="iga-brief" aria-label="Use IGA executive brief template">IGA Brief</button>
      <button class="toolbar-btn" data-template="ft-explainer" aria-label="Use FT-style explainer template">FT Explainer</button>
    </div>

    <div class="toolbar-group">
      <span class="toolbar-label">Theme</span>
      <select id="theme-select" aria-label="Select theme">
        <option value="iga">IGA</option>
        <option value="ft">FT-style</option>
        <option value="slate">Slate</option>
        <option value="emerald">Emerald</option>
        <option value="noir">Noir</option>
      </select>
      <button class="toolbar-btn" id="toggle-overlay" aria-label="Toggle layout grid">Grid</button>
    </div>

    <div class="toolbar-group">
      <span class="toolbar-label">Edit</span>
      <button class="toolbar-btn" id="undo-btn" aria-label="Undo">Undo</button>
      <button class="toolbar-btn" id="redo-btn" aria-label="Redo">Redo</button>
      <button class="toolbar-btn" id="quality-check-btn" aria-label="Check brief for placeholders" title="Check brief for placeholders">Check brief</button>
      <button class="toolbar-btn" id="export-json" aria-label="Export JSON">Export JSON</button>
      <button class="toolbar-btn" id="export-docx" aria-label="Export DOCX document">Export DOCX</button>
      <button class="toolbar-btn" id="export-html" aria-label="Export standalone HTML">Export HTML</button>
      <button class="toolbar-btn" id="share-btn" aria-label="Share or embed this editor">Share link</button>
      <button class="toolbar-btn" id="import-json" aria-label="Import JSON">Import JSON</button>
      <button class="toolbar-btn" id="export-pdf" aria-label="Export PDF">Export PDF</button>
    </div>

    <div class="toolbar-group">
      <button class="toolbar-btn" id="help-btn" aria-label="Show help" title="Show help">?</button>
    </div>
  </header>

  <div id="editor-root-wrapper">
    <main id="editor-root">
      <!-- Initial content page -->
      <div class="page-container" data-page-type="content">
        <div class="page-controls">
          <button class="page-control-btn" data-move-page-up title="Move page up" aria-label="Move page up">â†‘</button>
          <button class="page-control-btn" data-move-page-down title="Move page down" aria-label="Move page down">â†“</button>
          <button class="page-control-btn" data-dup-page title="Duplicate page" aria-label="Duplicate page">â§‰</button>
          <button class="page-control-btn" data-del-page title="Delete page" aria-label="Delete page">âœ•</button>
        </div>
        <div class="page-overlay"></div>
        <div class="page-body">
          <div class="doc-title" data-deletable="true" contenteditable="true">
            Executive Brief Title
            <span class="delete-icon" contenteditable="false" role="button" tabindex="0" aria-label="Delete block">Ã—</span>
          </div>
          <p class="doc-subtitle body-text" data-deletable="true" contenteditable="true">
            Short positioning subtitle / context line.
            <span class="delete-icon" contenteditable="false" role="button" tabindex="0" aria-label="Delete block">Ã—</span>
          </p>
          <h3 class="section-heading" data-deletable="true">
            <span contenteditable="true">Key messages</span>
            <span class="delete-icon" contenteditable="false" role="button" tabindex="0" aria-label="Delete block">Ã—</span>
          </h3>
          <p class="body-text" data-deletable="true" contenteditable="true">
            Use this space to summarise the essentials in clear, direct language aligned with IGA style.
            <span class="delete-icon" contenteditable="false" role="button" tabindex="0" aria-label="Delete block">Ã—</span>
          </p>
          <div class="overflow-indicator" aria-hidden="true">
            <span title="Consider splitting page" aria-label="Consider splitting page">!</span>
          </div>
        </div>
        <div class="page-footer">Page 1</div>
      </div>

      <!-- Footnotes page (always last) -->
      <div class="page-container footnotes-page" data-page-type="footnotes">
        <div class="page-overlay"></div>
        <div class="page-body">
          <h3 class="section-heading">
            <span contenteditable="false">Footnotes</span>
          </h3>
          <ol id="footnote-list"></ol>
        </div>
        <div class="page-footer">Footnotes</div>
      </div>
    </main>
  </div>
</div>

<!-- Floating block actions menu -->
<div id="block-actions" class="floating-menu">
  <button data-action="move-up" title="Move block up" aria-label="Move block up">â†‘</button>
  <button data-action="move-down" title="Move block down" aria-label="Move block down">â†“</button>
  <button data-action="duplicate" title="Duplicate block(s)" aria-label="Duplicate blocks">â§‰</button>
  <button data-action="copy" title="Copy block(s)" aria-label="Copy blocks">â§„</button>
  <button data-action="cut" title="Cut block(s)" aria-label="Cut blocks">âœ‚</button>
  <button data-action="paste" title="Paste after selection" aria-label="Paste blocks">â§ </button>
  <button data-action="move-to-page" title="Move selection to new page" aria-label="Move selection to new page">â‡¢</button>
  <button data-action="delete" title="Delete block(s)" aria-label="Delete blocks">âœ•</button>
</div>

<!-- Floating text formatting toolbar -->
<div id="text-toolbar">
  <button data-cmd="bold"><b>B</b></button>
  <button data-cmd="italic"><i>I</i></button>
  <button data-cmd="underline"><u>U</u></button>
  <button data-cmd="insertUnorderedList">â€¢</button>
  <button data-cmd="insertOrderedList">1.</button>
  <button data-action="highlight">HL</button>
  <select id="paragraph-style">
    <option value="">Â¶</option>
    <option value="h1">H1</option>
    <option value="h2">H2</option>
    <option value="h3">H3</option>
    <option value="p">Body</option>
  </select>
  <button data-action="link">ðŸ”—</button>
  <button data-action="unlink">âœ•</button>
  <input type="url" id="link-input" placeholder="URL" />
</div>

<!-- Snackbar -->
<div id="snackbar" role="status" aria-live="polite" aria-atomic="true"></div>

<!-- Modals -->
<div id="modal-backdrop" class="modal-backdrop">
  <div class="modal-inner" id="modal-inner"></div>
</div>

<!-- Hidden JSON input -->
<input type="file" id="json-file-input" accept="application/json" style="display:none" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.10/pdfmake.min.js" integrity="sha512-twA6VPmdoE9eugNUO7f9J/pepiUWmGLumZ5qX6Ch12yvDqOii0IxeqmoeZaZX6mE6xPD58Ll35H0TADaBrZEHw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.10/vfs_fonts.min.js" integrity="sha512-QF8ZUBKbjsggq09uXBJgp7wa9u0edPFsKnz03Wx/89ZbduCMsZ/HXXIQK5vCk1vZ1tcHTul3e8DqRLVQjaxAgA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="app.js"></script>

</body>
</html>
